<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
</head>
<body>
<h1>Admin Upload</h1>

<p>Step 1: Upload PDF to Google Drive</p>
<a href="https://drive.google.com" target="_blank">Upload PDF</a>

<p>Step 2: Save PDF Info</p>
<form id="pdfForm">
  <input type="text" id="title" placeholder="Title" required><br><br>
  <input type="text" id="desc" placeholder="Description" required><br><br>
  <input type="url" id="link" placeholder="Google Drive Link" required><br><br>
  <button type="submit">Save</button>
</form>

<script>
const SUPABASE_URL = "https://mbtbayoeffmmormvqnct.supabase.co";
const SUPABASE_KEY = "sb_publishable_lmXRSBkyoyyDETpF5ZUTLg_zKUFR5ye";

document.getElementById("pdfForm").addEventListener("submit", async e => {
  e.preventDefault();
  await fetch(`${SUPABASE_URL}/rest/v1/pdf_files`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      apikey: SUPABASE_KEY,
      Authorization: `Bearer ${SUPABASE_KEY}`
    },
    body: JSON.stringify({
      title: title.value,
      description: desc.value,
      drive_link: link.value
    })
  });
  alert("PDF Added!");
});
</script>
</body>
</html>
